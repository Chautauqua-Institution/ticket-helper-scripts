"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],s=!0,u=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(u)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var PageName=window.location.pathname.replace("/Online/","");switch(PageName){case"bundleSelect.asp":BundleSelectEntryPoint();break;case"bundleResult.asp":BundleResultEntryPoint();break;case"orderQuestions.asp":OrderQuestionsEntryPoint()}function convWordToNum(e){switch(e.toLowerCase()){case"one":return 1;case"two":return 2;case"three":return 3;case"four":return 4;case"five":return 5;case"six":return 6;case"seven":return 7;case"eight":return 8;case"nine":return 9}}function SaveBundleInfo(){var e=document.querySelectorAll(".bundle-element-container")[1].querySelectorAll("input[type=checkbox]"),t=[];e.forEach((function(e){if(1==e.checked){var r=convWordToNum(document.querySelector('label[for="'.concat(e.value,'"] > span.bundle-performance-description')).innerText.replace("Grounds Access Pass Week ",""));t.push(r)}})),t.sort();var r={name:document.querySelector("#bundle-item-title").innerText,weeks:t};sessionStorage.setItem("unprocessedBundle",JSON.stringify(r))}function BundleSelectEntryPoint(){document.querySelector("#bundle-item-title").innerText.includes("Grounds Access Pass")&&(null!==document.querySelector("#utility-menu-item-logout")?(document.querySelector("form[name=bundlesForm]").addEventListener("submit",SaveBundleInfo),document.querySelectorAll(".bundle-element-container")[1].querySelectorAll("input[type=checkbox]").forEach((function(e){e.addEventListener("change",SaveBundleInfo)}))):window.location="/Online/login.asp?targetPage=bundleSelect.asp")}function BundleResultEntryPoint(){var e=JSON.parse(sessionStorage.getItem("unprocessedBundle"));null!==e&&fetch("/Online/orderQuestions.asp").then((function(e){return e.text()})).then((function(t){var r=(new DOMParser).parseFromString(t,"text/html").documentElement.querySelectorAll('input[type=text][name^="BOset::WSorder::Bundle"]'),n=Array.from(r).map((function(e){return e.name.match(/Bundles::([A-z0-9\-]+)/)[1]})),o=JSON.parse(sessionStorage.getItem("processedBundles")||"{}"),a=Object.keys(o);n.filter((function(e){return!a.includes(e)})).forEach((function(t){o[t]=e})),sessionStorage.setItem("processedBundles",JSON.stringify(o))}))}function OrderQuestionsEntryPoint(){for(var e=JSON.parse(sessionStorage.getItem("processedBundles")||"{}"),t=0,r=Object.entries(e);t<r.length;t++){var n=_slicedToArray(r[t],2),o=n[0],a=n[1],s=document.querySelector('input[type=hidden][name^="BOset::WSorder::Bundles::'.concat(o,'"]'));null!==s&&(s.closest(".admission-section").firstElementChild.innerHTML="".concat(a.name,'<br/><small class="unstyled">Weeks ').concat(a.weeks.join(", "),"</small>"))}}